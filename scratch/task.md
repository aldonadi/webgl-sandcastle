# Tasks

- [x] Plan castle expansion <!-- id: 0 -->
- [x] Refactor castle construction to `CastleBuilder.js` <!-- id: 1 -->
- [x] Implement multilevel structure in `CastleBuilder.js` <!-- id: 2 -->
- [x] Add 6+ turrets (currently has ~6, maybe add intermediate ones) <!-- id: 3 -->
- [x] Add long walls and parapets (crenellations) <!-- id: 4 -->
- [x] Scale up the castle keys in `CastleBuilder` <!-- id: 5 -->
- [x] Verify scene and ensuring player spawn is correct <!-- id: 6 -->
- [x] Research InputManager for tap detection <!-- id: 7 -->
- [x] Update `Player.js` with physics (gravity, vy) <!-- id: 8 -->
- [x] Implement collision detection for landing <!-- id: 9 -->
- [x] Tune jump height and gravity <!-- id: 10 -->

## Particle System
- [x] Plan particle system architecture <!-- id: 11 -->
- [x] Implement `ParticleShader` <!-- id: 12 -->
- [x] Implement `ParticleSystem` and `ParticleEmitter` classes <!-- id: 13 -->
- [x] Implement CPU-side collision logic for particles <!-- id: 14 -->
- [x] Create Fire Emitter <!-- id: 15 -->
- [x] Create Spark Emitter <!-- id: 16 -->
- [x] Create Dust Emitter <!-- id: 17 -->
- [x] Verify particle effects <!-- id: 18 -->
